{% extends 'base.html.twig' %}

{% block title %}Z-blog{% endblock %}

{% block body %}
<div class="container">

    {% for post in posts %}
        <hr>
        <h3><a href="{{ path('post_show', {'id': post.id}) }}">{{ post.title }}</a></h3>
        <small><b>Created by:</b> <a href="/user/{{ post.getUserId }}">{{ post.getUserId.name }}</a></small>
        <small><b>Tags:</b>
            {% if post.tags is defined and post.tags is not empty %}
                {% for tag in post.tags %}
                    {{ tag.name }}
                {% endfor %}
            {% else %}
                <i>NoTagsAdded</i>
            {% endif %}
        </small>
        <br/>
        <div>{{ post.getBodyTruncated(120) | raw }}</div>
    {% else %}
            <p class="alert-info">no records found</p>
    {% endfor %}
</div>
{% endblock %}
